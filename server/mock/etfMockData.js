// Mock data for 27 AI Infrastructure Thesis ETFs
import { generatePriceHistory } from './mockData.js';
import { THESIS_TIERS } from './thesisMetadata.js';

// --- Tier label helpers ---
function getThesisForTicker(ticker) {
  for (const [key, tier] of Object.entries(THESIS_TIERS)) {
    if (tier.tickers.includes(ticker)) {
      const isAvoid = key === 'avoid';
      return {
        tier: isAvoid ? 'avoid' : Number(key),
        tierName: tier.name,
        label: isAvoid ? 'Avoid' : `Tier ${key}: ${tier.name}`,
        note: isAvoid ? tier.rationale : null,
        avoid: isAvoid,
      };
    }
  }
  return null;
}

// --- ETF definitions ---
const etfDefinitions = {
  // ===== Tier 1: Semiconductor & Compute Hardware =====
  SMH: {
    overview: {
      symbol: 'SMH',
      name: 'VanEck Semiconductor ETF',
      sector: 'Technology',
      industry: 'Semiconductors',
      expenseRatio: 0.35,
      aum: 23500000000,
      trackingError: 0.12,
      premiumDiscount: 0.02,
      dividendYield: 0.58,
      holdingsCount: 26,
      ytdReturn: 18.5,
      oneYearReturn: 42.3,
    },
    priceConfig: { base: 265, volatility: 2.5, trend: 0.6 },
    analystData: { morningstarRating: 5, categoryRank: 8, inflowsOutflows: 2800, flowsTrend: 'accelerating' },
    insiderData: {
      netFlows30d: 1500000000,
      netFlows90d: 3200000000,
      creationRedemptionRatio: 1.35,
      topHoldings: [
        { ticker: 'NVDA', weight: 20.5 }, { ticker: 'TSM', weight: 12.3 }, { ticker: 'AVGO', weight: 8.1 },
        { ticker: 'AMD', weight: 5.4 }, { ticker: 'QCOM', weight: 4.8 }, { ticker: 'TXN', weight: 4.2 },
        { ticker: 'INTC', weight: 3.9 }, { ticker: 'MU', weight: 3.5 }, { ticker: 'AMAT', weight: 3.3 },
        { ticker: 'LRCX', weight: 3.1 },
      ],
    },
    riskData: { beta: 1.35, historicalVolatility: 0.32, maxDrawdown: -0.28, debtToEquity: 0 },
  },
  SOXX: {
    overview: {
      symbol: 'SOXX',
      name: 'iShares Semiconductor ETF',
      sector: 'Technology',
      industry: 'Semiconductors',
      expenseRatio: 0.35,
      aum: 14200000000,
      trackingError: 0.08,
      premiumDiscount: 0.01,
      dividendYield: 0.62,
      holdingsCount: 30,
      ytdReturn: 17.2,
      oneYearReturn: 39.8,
    },
    priceConfig: { base: 540, volatility: 2.4, trend: 0.55 },
    analystData: { morningstarRating: 4, categoryRank: 12, inflowsOutflows: 1200, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 800000000,
      netFlows90d: 1900000000,
      creationRedemptionRatio: 1.22,
      topHoldings: [
        { ticker: 'NVDA', weight: 9.8 }, { ticker: 'AVGO', weight: 8.5 }, { ticker: 'AMD', weight: 7.2 },
        { ticker: 'QCOM', weight: 6.1 }, { ticker: 'TXN', weight: 5.8 }, { ticker: 'INTC', weight: 5.3 },
        { ticker: 'MU', weight: 4.9 }, { ticker: 'AMAT', weight: 4.5 }, { ticker: 'LRCX', weight: 4.2 },
        { ticker: 'TSM', weight: 3.8 },
      ],
    },
    riskData: { beta: 1.38, historicalVolatility: 0.33, maxDrawdown: -0.30, debtToEquity: 0 },
  },
  SOXQ: {
    overview: {
      symbol: 'SOXQ',
      name: 'Invesco PHLX Semiconductor ETF',
      sector: 'Technology',
      industry: 'Semiconductors',
      expenseRatio: 0.19,
      aum: 850000000,
      trackingError: 0.10,
      premiumDiscount: -0.01,
      dividendYield: 0.51,
      holdingsCount: 30,
      ytdReturn: 16.8,
      oneYearReturn: 38.5,
    },
    priceConfig: { base: 38, volatility: 2.6, trend: 0.5 },
    analystData: { morningstarRating: 4, categoryRank: 15, inflowsOutflows: 120, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 55000000,
      netFlows90d: 140000000,
      creationRedemptionRatio: 1.12,
      topHoldings: [
        { ticker: 'NVDA', weight: 10.2 }, { ticker: 'AVGO', weight: 8.8 }, { ticker: 'AMD', weight: 7.5 },
        { ticker: 'QCOM', weight: 6.3 }, { ticker: 'TXN', weight: 5.5 }, { ticker: 'INTC', weight: 5.1 },
        { ticker: 'MU', weight: 4.7 }, { ticker: 'AMAT', weight: 4.3 }, { ticker: 'LRCX', weight: 4.0 },
        { ticker: 'TSM', weight: 3.6 },
      ],
    },
    riskData: { beta: 1.40, historicalVolatility: 0.34, maxDrawdown: -0.31, debtToEquity: 0 },
  },
  PSI: {
    overview: {
      symbol: 'PSI',
      name: 'Invesco Dynamic Semiconductors ETF',
      sector: 'Technology',
      industry: 'Semiconductors',
      expenseRatio: 0.56,
      aum: 720000000,
      trackingError: 0.35,
      premiumDiscount: 0.03,
      dividendYield: 0.22,
      holdingsCount: 32,
      ytdReturn: 14.5,
      oneYearReturn: 35.2,
    },
    priceConfig: { base: 62, volatility: 2.8, trend: 0.45 },
    analystData: { morningstarRating: 3, categoryRank: 28, inflowsOutflows: 45, flowsTrend: 'declining' },
    insiderData: {
      netFlows30d: -25000000,
      netFlows90d: 30000000,
      creationRedemptionRatio: 0.95,
      topHoldings: [
        { ticker: 'NVDA', weight: 6.8 }, { ticker: 'AVGO', weight: 6.2 }, { ticker: 'MRVL', weight: 5.8 },
        { ticker: 'ON', weight: 5.5 }, { ticker: 'MPWR', weight: 5.1 }, { ticker: 'AMD', weight: 4.8 },
        { ticker: 'ADI', weight: 4.5 }, { ticker: 'NXPI', weight: 4.2 }, { ticker: 'QCOM', weight: 3.9 },
        { ticker: 'MCHP', weight: 3.5 },
      ],
    },
    riskData: { beta: 1.42, historicalVolatility: 0.36, maxDrawdown: -0.33, debtToEquity: 0 },
  },
  CHPX: {
    overview: {
      symbol: 'CHPX',
      name: 'Defiance Quantum & Semiconductor ETF',
      sector: 'Technology',
      industry: 'Semiconductors',
      expenseRatio: 0.40,
      aum: 180000000,
      trackingError: 0.45,
      premiumDiscount: -0.05,
      dividendYield: 0.15,
      holdingsCount: 40,
      ytdReturn: 12.1,
      oneYearReturn: 28.7,
    },
    priceConfig: { base: 28, volatility: 3.0, trend: 0.35 },
    analystData: { morningstarRating: 3, categoryRank: 35, inflowsOutflows: 18, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 12000000,
      netFlows90d: 28000000,
      creationRedemptionRatio: 1.08,
      topHoldings: [
        { ticker: 'NVDA', weight: 5.5 }, { ticker: 'AMD', weight: 4.8 }, { ticker: 'INTC', weight: 4.2 },
        { ticker: 'QCOM', weight: 3.9 }, { ticker: 'AVGO', weight: 3.5 }, { ticker: 'TSM', weight: 3.2 },
        { ticker: 'IONQ', weight: 2.8 }, { ticker: 'RGTI', weight: 2.5 }, { ticker: 'QUBT', weight: 2.2 },
        { ticker: 'MU', weight: 2.0 },
      ],
    },
    riskData: { beta: 1.48, historicalVolatility: 0.38, maxDrawdown: -0.35, debtToEquity: 0 },
  },

  // ===== Tier 2: Power & Energy Infrastructure =====
  IPWR: {
    overview: {
      symbol: 'IPWR',
      name: 'Range Nuclear Renaissance & AI Power ETF',
      sector: 'Utilities',
      industry: 'Nuclear & Power Infrastructure',
      expenseRatio: 0.65,
      aum: 320000000,
      trackingError: 0.55,
      premiumDiscount: 0.08,
      dividendYield: 1.2,
      holdingsCount: 28,
      ytdReturn: 22.5,
      oneYearReturn: 48.1,
    },
    priceConfig: { base: 35, volatility: 2.2, trend: 0.7 },
    analystData: { morningstarRating: 4, categoryRank: 5, inflowsOutflows: 180, flowsTrend: 'accelerating' },
    insiderData: {
      netFlows30d: 95000000,
      netFlows90d: 180000000,
      creationRedemptionRatio: 1.55,
      topHoldings: [
        { ticker: 'CCJ', weight: 8.5 }, { ticker: 'VST', weight: 7.2 }, { ticker: 'CEG', weight: 6.8 },
        { ticker: 'NRG', weight: 5.5 }, { ticker: 'SMR', weight: 4.8 }, { ticker: 'LEU', weight: 4.2 },
        { ticker: 'UEC', weight: 3.9 }, { ticker: 'DNN', weight: 3.5 }, { ticker: 'OKLO', weight: 3.2 },
        { ticker: 'NNE', weight: 2.8 },
      ],
    },
    riskData: { beta: 1.10, historicalVolatility: 0.28, maxDrawdown: -0.22, debtToEquity: 0 },
  },
  NLR: {
    overview: {
      symbol: 'NLR',
      name: 'VanEck Uranium+Nuclear Energy ETF',
      sector: 'Utilities',
      industry: 'Nuclear Energy',
      expenseRatio: 0.61,
      aum: 150000000,
      trackingError: 0.42,
      premiumDiscount: -0.03,
      dividendYield: 2.1,
      holdingsCount: 25,
      ytdReturn: 15.8,
      oneYearReturn: 32.4,
    },
    priceConfig: { base: 72, volatility: 2.0, trend: 0.5 },
    analystData: { morningstarRating: 3, categoryRank: 22, inflowsOutflows: 35, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 18000000,
      netFlows90d: 42000000,
      creationRedemptionRatio: 1.10,
      topHoldings: [
        { ticker: 'CCJ', weight: 10.2 }, { ticker: 'CEG', weight: 8.5 }, { ticker: 'DNN', weight: 6.8 },
        { ticker: 'UEC', weight: 5.5 }, { ticker: 'LEU', weight: 5.2 }, { ticker: 'NXE', weight: 4.8 },
        { ticker: 'UUUU', weight: 4.2 }, { ticker: 'SMR', weight: 3.8 }, { ticker: 'URG', weight: 3.2 },
        { ticker: 'NNE', weight: 2.8 },
      ],
    },
    riskData: { beta: 0.95, historicalVolatility: 0.25, maxDrawdown: -0.20, debtToEquity: 0 },
  },
  TNUK: {
    overview: {
      symbol: 'TNUK',
      name: 'Tema Nuclear Power ETF',
      sector: 'Utilities',
      industry: 'Nuclear Energy',
      expenseRatio: 0.75,
      aum: 85000000,
      trackingError: 0.60,
      premiumDiscount: 0.12,
      dividendYield: 0.9,
      holdingsCount: 22,
      ytdReturn: 20.1,
      oneYearReturn: 44.5,
    },
    priceConfig: { base: 32, volatility: 2.4, trend: 0.65 },
    analystData: { morningstarRating: 3, categoryRank: 18, inflowsOutflows: 22, flowsTrend: 'accelerating' },
    insiderData: {
      netFlows30d: 28000000,
      netFlows90d: 55000000,
      creationRedemptionRatio: 1.40,
      topHoldings: [
        { ticker: 'CCJ', weight: 9.5 }, { ticker: 'VST', weight: 8.2 }, { ticker: 'CEG', weight: 7.5 },
        { ticker: 'SMR', weight: 6.8 }, { ticker: 'OKLO', weight: 5.5 }, { ticker: 'LEU', weight: 5.0 },
        { ticker: 'NNE', weight: 4.5 }, { ticker: 'UEC', weight: 4.0 }, { ticker: 'DNN', weight: 3.5 },
        { ticker: 'NXE', weight: 3.0 },
      ],
    },
    riskData: { beta: 1.05, historicalVolatility: 0.30, maxDrawdown: -0.24, debtToEquity: 0 },
  },
  ICLN: {
    overview: {
      symbol: 'ICLN',
      name: 'iShares Global Clean Energy ETF',
      sector: 'Utilities',
      industry: 'Clean Energy',
      expenseRatio: 0.40,
      aum: 2800000000,
      trackingError: 0.18,
      premiumDiscount: -0.02,
      dividendYield: 1.5,
      holdingsCount: 103,
      ytdReturn: -2.5,
      oneYearReturn: 5.8,
    },
    priceConfig: { base: 13, volatility: 2.0, trend: -0.1 },
    analystData: { morningstarRating: 2, categoryRank: 65, inflowsOutflows: -320, flowsTrend: 'declining' },
    insiderData: {
      netFlows30d: -180000000,
      netFlows90d: -450000000,
      creationRedemptionRatio: 0.78,
      topHoldings: [
        { ticker: 'FSLR', weight: 7.5 }, { ticker: 'ENPH', weight: 6.8 }, { ticker: 'SEDG', weight: 4.2 },
        { ticker: 'RUN', weight: 3.8 }, { ticker: 'PLUG', weight: 3.2 }, { ticker: 'CSIQ', weight: 2.8 },
        { ticker: 'JKS', weight: 2.5 }, { ticker: 'NOVA', weight: 2.2 }, { ticker: 'BE', weight: 2.0 },
        { ticker: 'ARRY', weight: 1.8 },
      ],
    },
    riskData: { beta: 1.15, historicalVolatility: 0.35, maxDrawdown: -0.45, debtToEquity: 0 },
  },

  // ===== Tier 3: Data Center & Digital Infrastructure =====
  DTCR: {
    overview: {
      symbol: 'DTCR',
      name: 'Global X Data Center & Digital Infrastructure ETF',
      sector: 'Real Estate',
      industry: 'Data Center REITs & Infrastructure',
      expenseRatio: 0.50,
      aum: 420000000,
      trackingError: 0.30,
      premiumDiscount: 0.04,
      dividendYield: 1.8,
      holdingsCount: 20,
      ytdReturn: 14.2,
      oneYearReturn: 28.5,
    },
    priceConfig: { base: 22, volatility: 1.8, trend: 0.45 },
    analystData: { morningstarRating: 4, categoryRank: 10, inflowsOutflows: 85, flowsTrend: 'accelerating' },
    insiderData: {
      netFlows30d: 45000000,
      netFlows90d: 110000000,
      creationRedemptionRatio: 1.28,
      topHoldings: [
        { ticker: 'EQIX', weight: 12.5 }, { ticker: 'DLR', weight: 10.2 }, { ticker: 'AMT', weight: 8.5 },
        { ticker: 'CCI', weight: 6.8 }, { ticker: 'SBAC', weight: 5.5 }, { ticker: 'VNET', weight: 4.2 },
        { ticker: 'QTS', weight: 3.8 }, { ticker: 'CONE', weight: 3.5 }, { ticker: 'RBRK', weight: 3.0 },
        { ticker: 'VRT', weight: 2.8 },
      ],
    },
    riskData: { beta: 0.92, historicalVolatility: 0.22, maxDrawdown: -0.18, debtToEquity: 0 },
  },
  IDGT: {
    overview: {
      symbol: 'IDGT',
      name: 'iShares Digital Infrastructure & Real Estate ETF',
      sector: 'Real Estate',
      industry: 'Digital Infrastructure',
      expenseRatio: 0.48,
      aum: 280000000,
      trackingError: 0.28,
      premiumDiscount: -0.01,
      dividendYield: 2.0,
      holdingsCount: 25,
      ytdReturn: 12.8,
      oneYearReturn: 25.1,
    },
    priceConfig: { base: 18, volatility: 1.6, trend: 0.40 },
    analystData: { morningstarRating: 3, categoryRank: 20, inflowsOutflows: 42, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 22000000,
      netFlows90d: 65000000,
      creationRedemptionRatio: 1.15,
      topHoldings: [
        { ticker: 'EQIX', weight: 11.0 }, { ticker: 'DLR', weight: 9.5 }, { ticker: 'AMT', weight: 7.8 },
        { ticker: 'CCI', weight: 6.2 }, { ticker: 'SBAC', weight: 5.0 }, { ticker: 'IRM', weight: 4.5 },
        { ticker: 'VRT', weight: 3.8 }, { ticker: 'VNET', weight: 3.2 }, { ticker: 'GDS', weight: 2.8 },
        { ticker: 'RBRK', weight: 2.5 },
      ],
    },
    riskData: { beta: 0.88, historicalVolatility: 0.20, maxDrawdown: -0.16, debtToEquity: 0 },
  },

  // ===== Tier 4: Broad Tech & Market Indices =====
  QQQM: {
    overview: {
      symbol: 'QQQM',
      name: 'Invesco NASDAQ 100 ETF',
      sector: 'Technology',
      industry: 'Broad Tech Index',
      expenseRatio: 0.15,
      aum: 32000000000,
      trackingError: 0.02,
      premiumDiscount: 0.00,
      dividendYield: 0.55,
      holdingsCount: 101,
      ytdReturn: 12.8,
      oneYearReturn: 28.5,
    },
    priceConfig: { base: 210, volatility: 1.6, trend: 0.4 },
    analystData: { morningstarRating: 5, categoryRank: 3, inflowsOutflows: 5200, flowsTrend: 'accelerating' },
    insiderData: {
      netFlows30d: 2200000000,
      netFlows90d: 5800000000,
      creationRedemptionRatio: 1.18,
      topHoldings: [
        { ticker: 'AAPL', weight: 8.8 }, { ticker: 'MSFT', weight: 8.2 }, { ticker: 'NVDA', weight: 7.5 },
        { ticker: 'AMZN', weight: 5.8 }, { ticker: 'META', weight: 5.2 }, { ticker: 'GOOGL', weight: 4.5 },
        { ticker: 'AVGO', weight: 3.8 }, { ticker: 'TSLA', weight: 3.2 }, { ticker: 'COST', weight: 2.5 },
        { ticker: 'NFLX', weight: 2.2 },
      ],
    },
    riskData: { beta: 1.12, historicalVolatility: 0.22, maxDrawdown: -0.20, debtToEquity: 0 },
  },
  QQQ: {
    overview: {
      symbol: 'QQQ',
      name: 'Invesco QQQ Trust',
      sector: 'Technology',
      industry: 'Broad Tech Index',
      expenseRatio: 0.20,
      aum: 290000000000,
      trackingError: 0.01,
      premiumDiscount: 0.01,
      dividendYield: 0.52,
      holdingsCount: 101,
      ytdReturn: 12.7,
      oneYearReturn: 28.3,
    },
    priceConfig: { base: 515, volatility: 1.6, trend: 0.4 },
    analystData: { morningstarRating: 5, categoryRank: 4, inflowsOutflows: 8500, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 3800000000,
      netFlows90d: 9200000000,
      creationRedemptionRatio: 1.12,
      topHoldings: [
        { ticker: 'AAPL', weight: 8.8 }, { ticker: 'MSFT', weight: 8.2 }, { ticker: 'NVDA', weight: 7.5 },
        { ticker: 'AMZN', weight: 5.8 }, { ticker: 'META', weight: 5.2 }, { ticker: 'GOOGL', weight: 4.5 },
        { ticker: 'AVGO', weight: 3.8 }, { ticker: 'TSLA', weight: 3.2 }, { ticker: 'COST', weight: 2.5 },
        { ticker: 'NFLX', weight: 2.2 },
      ],
    },
    riskData: { beta: 1.12, historicalVolatility: 0.22, maxDrawdown: -0.20, debtToEquity: 0 },
  },
  VOO: {
    overview: {
      symbol: 'VOO',
      name: 'Vanguard S&P 500 ETF',
      sector: 'Diversified',
      industry: 'Large-Cap Blend',
      expenseRatio: 0.03,
      aum: 520000000000,
      trackingError: 0.01,
      premiumDiscount: 0.00,
      dividendYield: 1.32,
      holdingsCount: 503,
      ytdReturn: 10.2,
      oneYearReturn: 22.5,
    },
    priceConfig: { base: 530, volatility: 1.2, trend: 0.35 },
    analystData: { morningstarRating: 5, categoryRank: 2, inflowsOutflows: 12000, flowsTrend: 'accelerating' },
    insiderData: {
      netFlows30d: 5500000000,
      netFlows90d: 14000000000,
      creationRedemptionRatio: 1.15,
      topHoldings: [
        { ticker: 'AAPL', weight: 7.2 }, { ticker: 'MSFT', weight: 6.8 }, { ticker: 'NVDA', weight: 5.5 },
        { ticker: 'AMZN', weight: 3.8 }, { ticker: 'META', weight: 2.8 }, { ticker: 'GOOGL', weight: 2.5 },
        { ticker: 'BRK.B', weight: 1.8 }, { ticker: 'JPM', weight: 1.5 }, { ticker: 'LLY', weight: 1.4 },
        { ticker: 'UNH', weight: 1.3 },
      ],
    },
    riskData: { beta: 1.00, historicalVolatility: 0.16, maxDrawdown: -0.14, debtToEquity: 0 },
  },
  SPY: {
    overview: {
      symbol: 'SPY',
      name: 'SPDR S&P 500 ETF Trust',
      sector: 'Diversified',
      industry: 'Large-Cap Blend',
      expenseRatio: 0.09,
      aum: 560000000000,
      trackingError: 0.01,
      premiumDiscount: 0.00,
      dividendYield: 1.28,
      holdingsCount: 503,
      ytdReturn: 10.1,
      oneYearReturn: 22.3,
    },
    priceConfig: { base: 575, volatility: 1.2, trend: 0.35 },
    analystData: { morningstarRating: 5, categoryRank: 3, inflowsOutflows: 15000, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 8200000000,
      netFlows90d: 18000000000,
      creationRedemptionRatio: 1.10,
      topHoldings: [
        { ticker: 'AAPL', weight: 7.2 }, { ticker: 'MSFT', weight: 6.8 }, { ticker: 'NVDA', weight: 5.5 },
        { ticker: 'AMZN', weight: 3.8 }, { ticker: 'META', weight: 2.8 }, { ticker: 'GOOGL', weight: 2.5 },
        { ticker: 'BRK.B', weight: 1.8 }, { ticker: 'JPM', weight: 1.5 }, { ticker: 'LLY', weight: 1.4 },
        { ticker: 'UNH', weight: 1.3 },
      ],
    },
    riskData: { beta: 1.00, historicalVolatility: 0.16, maxDrawdown: -0.14, debtToEquity: 0 },
  },
  VTI: {
    overview: {
      symbol: 'VTI',
      name: 'Vanguard Total Stock Market ETF',
      sector: 'Diversified',
      industry: 'Total Market',
      expenseRatio: 0.03,
      aum: 420000000000,
      trackingError: 0.01,
      premiumDiscount: 0.00,
      dividendYield: 1.35,
      holdingsCount: 3932,
      ytdReturn: 9.8,
      oneYearReturn: 21.5,
    },
    priceConfig: { base: 285, volatility: 1.1, trend: 0.3 },
    analystData: { morningstarRating: 5, categoryRank: 5, inflowsOutflows: 8500, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 3800000000,
      netFlows90d: 9500000000,
      creationRedemptionRatio: 1.12,
      topHoldings: [
        { ticker: 'AAPL', weight: 6.5 }, { ticker: 'MSFT', weight: 6.1 }, { ticker: 'NVDA', weight: 4.8 },
        { ticker: 'AMZN', weight: 3.5 }, { ticker: 'META', weight: 2.5 }, { ticker: 'GOOGL', weight: 2.2 },
        { ticker: 'BRK.B', weight: 1.6 }, { ticker: 'JPM', weight: 1.4 }, { ticker: 'LLY', weight: 1.2 },
        { ticker: 'UNH', weight: 1.1 },
      ],
    },
    riskData: { beta: 1.00, historicalVolatility: 0.16, maxDrawdown: -0.15, debtToEquity: 0 },
  },
  VGT: {
    overview: {
      symbol: 'VGT',
      name: 'Vanguard Information Technology ETF',
      sector: 'Technology',
      industry: 'Information Technology',
      expenseRatio: 0.10,
      aum: 78000000000,
      trackingError: 0.03,
      premiumDiscount: 0.01,
      dividendYield: 0.62,
      holdingsCount: 316,
      ytdReturn: 14.5,
      oneYearReturn: 32.8,
    },
    priceConfig: { base: 580, volatility: 1.8, trend: 0.45 },
    analystData: { morningstarRating: 5, categoryRank: 6, inflowsOutflows: 3200, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 1500000000,
      netFlows90d: 3800000000,
      creationRedemptionRatio: 1.15,
      topHoldings: [
        { ticker: 'AAPL', weight: 16.5 }, { ticker: 'MSFT', weight: 15.2 }, { ticker: 'NVDA', weight: 14.8 },
        { ticker: 'AVGO', weight: 5.2 }, { ticker: 'CRM', weight: 2.8 }, { ticker: 'AMD', weight: 2.5 },
        { ticker: 'ORCL', weight: 2.2 }, { ticker: 'ADBE', weight: 2.0 }, { ticker: 'ACN', weight: 1.8 },
        { ticker: 'CSCO', weight: 1.5 },
      ],
    },
    riskData: { beta: 1.18, historicalVolatility: 0.24, maxDrawdown: -0.22, debtToEquity: 0 },
  },
  FTEC: {
    overview: {
      symbol: 'FTEC',
      name: 'Fidelity MSCI Information Technology ETF',
      sector: 'Technology',
      industry: 'Information Technology',
      expenseRatio: 0.08,
      aum: 12500000000,
      trackingError: 0.02,
      premiumDiscount: 0.00,
      dividendYield: 0.60,
      holdingsCount: 298,
      ytdReturn: 14.3,
      oneYearReturn: 32.5,
    },
    priceConfig: { base: 175, volatility: 1.8, trend: 0.45 },
    analystData: { morningstarRating: 5, categoryRank: 7, inflowsOutflows: 850, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 420000000,
      netFlows90d: 1100000000,
      creationRedemptionRatio: 1.12,
      topHoldings: [
        { ticker: 'AAPL', weight: 16.2 }, { ticker: 'MSFT', weight: 15.0 }, { ticker: 'NVDA', weight: 14.5 },
        { ticker: 'AVGO', weight: 5.0 }, { ticker: 'CRM', weight: 2.7 }, { ticker: 'AMD', weight: 2.4 },
        { ticker: 'ORCL', weight: 2.1 }, { ticker: 'ADBE', weight: 1.9 }, { ticker: 'ACN', weight: 1.7 },
        { ticker: 'CSCO', weight: 1.4 },
      ],
    },
    riskData: { beta: 1.18, historicalVolatility: 0.24, maxDrawdown: -0.22, debtToEquity: 0 },
  },

  // ===== Tier 5: Healthcare & Biotech =====
  XLV: {
    overview: {
      symbol: 'XLV',
      name: 'Health Care Select Sector SPDR Fund',
      sector: 'Healthcare',
      industry: 'Healthcare',
      expenseRatio: 0.09,
      aum: 40000000000,
      trackingError: 0.02,
      premiumDiscount: 0.00,
      dividendYield: 1.42,
      holdingsCount: 63,
      ytdReturn: 5.2,
      oneYearReturn: 12.8,
    },
    priceConfig: { base: 148, volatility: 1.2, trend: 0.15 },
    analystData: { morningstarRating: 4, categoryRank: 18, inflowsOutflows: 1200, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 550000000,
      netFlows90d: 1400000000,
      creationRedemptionRatio: 1.08,
      topHoldings: [
        { ticker: 'LLY', weight: 12.5 }, { ticker: 'UNH', weight: 10.2 }, { ticker: 'JNJ', weight: 7.8 },
        { ticker: 'ABBV', weight: 6.5 }, { ticker: 'MRK', weight: 5.8 }, { ticker: 'TMO', weight: 4.2 },
        { ticker: 'ABT', weight: 3.8 }, { ticker: 'PFE', weight: 3.2 }, { ticker: 'DHR', weight: 2.8 },
        { ticker: 'BMY', weight: 2.5 },
      ],
    },
    riskData: { beta: 0.72, historicalVolatility: 0.16, maxDrawdown: -0.12, debtToEquity: 0 },
  },
  VHT: {
    overview: {
      symbol: 'VHT',
      name: 'Vanguard Health Care ETF',
      sector: 'Healthcare',
      industry: 'Healthcare',
      expenseRatio: 0.10,
      aum: 18000000000,
      trackingError: 0.03,
      premiumDiscount: 0.01,
      dividendYield: 1.38,
      holdingsCount: 418,
      ytdReturn: 4.8,
      oneYearReturn: 11.5,
    },
    priceConfig: { base: 268, volatility: 1.2, trend: 0.12 },
    analystData: { morningstarRating: 4, categoryRank: 20, inflowsOutflows: 450, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 220000000,
      netFlows90d: 580000000,
      creationRedemptionRatio: 1.05,
      topHoldings: [
        { ticker: 'LLY', weight: 11.8 }, { ticker: 'UNH', weight: 9.5 }, { ticker: 'JNJ', weight: 7.2 },
        { ticker: 'ABBV', weight: 6.0 }, { ticker: 'MRK', weight: 5.5 }, { ticker: 'TMO', weight: 4.0 },
        { ticker: 'ABT', weight: 3.5 }, { ticker: 'PFE', weight: 3.0 }, { ticker: 'DHR', weight: 2.6 },
        { ticker: 'ISRG', weight: 2.2 },
      ],
    },
    riskData: { beta: 0.70, historicalVolatility: 0.15, maxDrawdown: -0.11, debtToEquity: 0 },
  },
  IBB: {
    overview: {
      symbol: 'IBB',
      name: 'iShares Biotechnology ETF',
      sector: 'Healthcare',
      industry: 'Biotechnology',
      expenseRatio: 0.44,
      aum: 7200000000,
      trackingError: 0.08,
      premiumDiscount: -0.02,
      dividendYield: 0.22,
      holdingsCount: 224,
      ytdReturn: 2.1,
      oneYearReturn: 8.5,
    },
    priceConfig: { base: 135, volatility: 1.8, trend: 0.05 },
    analystData: { morningstarRating: 3, categoryRank: 35, inflowsOutflows: -120, flowsTrend: 'declining' },
    insiderData: {
      netFlows30d: -85000000,
      netFlows90d: -220000000,
      creationRedemptionRatio: 0.92,
      topHoldings: [
        { ticker: 'GILD', weight: 8.2 }, { ticker: 'AMGN', weight: 7.5 }, { ticker: 'VRTX', weight: 7.0 },
        { ticker: 'REGN', weight: 5.8 }, { ticker: 'MRNA', weight: 3.5 }, { ticker: 'BIIB', weight: 3.2 },
        { ticker: 'ALNY', weight: 2.8 }, { ticker: 'ILMN', weight: 2.5 }, { ticker: 'SGEN', weight: 2.2 },
        { ticker: 'BMRN', weight: 2.0 },
      ],
    },
    riskData: { beta: 0.85, historicalVolatility: 0.25, maxDrawdown: -0.28, debtToEquity: 0 },
  },
  XBI: {
    overview: {
      symbol: 'XBI',
      name: 'SPDR S&P Biotech ETF',
      sector: 'Healthcare',
      industry: 'Biotechnology',
      expenseRatio: 0.35,
      aum: 6800000000,
      trackingError: 0.15,
      premiumDiscount: -0.03,
      dividendYield: 0.18,
      holdingsCount: 142,
      ytdReturn: -1.5,
      oneYearReturn: 4.2,
    },
    priceConfig: { base: 88, volatility: 2.2, trend: -0.05 },
    analystData: { morningstarRating: 2, categoryRank: 55, inflowsOutflows: -280, flowsTrend: 'declining' },
    insiderData: {
      netFlows30d: -180000000,
      netFlows90d: -520000000,
      creationRedemptionRatio: 0.82,
      topHoldings: [
        { ticker: 'EXAS', weight: 1.8 }, { ticker: 'SRPT', weight: 1.7 }, { ticker: 'PCVX', weight: 1.6 },
        { ticker: 'IONS', weight: 1.5 }, { ticker: 'UTHR', weight: 1.4 }, { ticker: 'MRNA', weight: 1.3 },
        { ticker: 'ALNY', weight: 1.2 }, { ticker: 'RARE', weight: 1.1 }, { ticker: 'NBIX', weight: 1.0 },
        { ticker: 'HALO', weight: 0.9 },
      ],
    },
    riskData: { beta: 1.05, historicalVolatility: 0.32, maxDrawdown: -0.38, debtToEquity: 0 },
  },
  BBH: {
    overview: {
      symbol: 'BBH',
      name: 'VanEck Biotech ETF',
      sector: 'Healthcare',
      industry: 'Biotechnology',
      expenseRatio: 0.35,
      aum: 550000000,
      trackingError: 0.10,
      premiumDiscount: -0.01,
      dividendYield: 0.28,
      holdingsCount: 25,
      ytdReturn: 3.5,
      oneYearReturn: 10.2,
    },
    priceConfig: { base: 168, volatility: 1.6, trend: 0.10 },
    analystData: { morningstarRating: 3, categoryRank: 30, inflowsOutflows: 15, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 8000000,
      netFlows90d: 22000000,
      creationRedemptionRatio: 1.02,
      topHoldings: [
        { ticker: 'AMGN', weight: 10.5 }, { ticker: 'GILD', weight: 9.8 }, { ticker: 'VRTX', weight: 8.5 },
        { ticker: 'REGN', weight: 7.2 }, { ticker: 'BIIB', weight: 5.8 }, { ticker: 'MRNA', weight: 5.2 },
        { ticker: 'ALNY', weight: 4.5 }, { ticker: 'ILMN', weight: 4.0 }, { ticker: 'SGEN', weight: 3.5 },
        { ticker: 'BMRN', weight: 3.0 },
      ],
    },
    riskData: { beta: 0.80, historicalVolatility: 0.22, maxDrawdown: -0.24, debtToEquity: 0 },
  },
  ARKG: {
    overview: {
      symbol: 'ARKG',
      name: 'ARK Genomic Revolution ETF',
      sector: 'Healthcare',
      industry: 'Genomics & Biotech',
      expenseRatio: 0.75,
      aum: 1800000000,
      trackingError: 1.20,
      premiumDiscount: -0.08,
      dividendYield: 0.0,
      holdingsCount: 32,
      ytdReturn: -5.2,
      oneYearReturn: 2.8,
    },
    priceConfig: { base: 28, volatility: 3.0, trend: -0.15 },
    analystData: { morningstarRating: 1, categoryRank: 85, inflowsOutflows: -450, flowsTrend: 'declining' },
    insiderData: {
      netFlows30d: -120000000,
      netFlows90d: -380000000,
      creationRedemptionRatio: 0.72,
      topHoldings: [
        { ticker: 'EXAS', weight: 7.5 }, { ticker: 'CRSP', weight: 6.8 }, { ticker: 'TDOC', weight: 5.5 },
        { ticker: 'TWST', weight: 5.2 }, { ticker: 'BEAM', weight: 4.8 }, { ticker: 'NTLA', weight: 4.5 },
        { ticker: 'RXRX', weight: 4.0 }, { ticker: 'VERV', weight: 3.5 }, { ticker: 'FATE', weight: 3.2 },
        { ticker: 'IOVA', weight: 2.8 },
      ],
    },
    riskData: { beta: 1.55, historicalVolatility: 0.48, maxDrawdown: -0.62, debtToEquity: 0 },
  },

  // ===== Avoid: Structural Headwinds =====
  IGV: {
    overview: {
      symbol: 'IGV',
      name: 'iShares Expanded Tech-Software Sector ETF',
      sector: 'Technology',
      industry: 'Software',
      expenseRatio: 0.40,
      aum: 8500000000,
      trackingError: 0.05,
      premiumDiscount: 0.01,
      dividendYield: 0.12,
      holdingsCount: 120,
      ytdReturn: 5.8,
      oneYearReturn: 15.2,
    },
    priceConfig: { base: 92, volatility: 2.0, trend: 0.2 },
    analystData: { morningstarRating: 3, categoryRank: 42, inflowsOutflows: -85, flowsTrend: 'declining' },
    insiderData: {
      netFlows30d: -55000000,
      netFlows90d: -180000000,
      creationRedemptionRatio: 0.88,
      topHoldings: [
        { ticker: 'CRM', weight: 8.5 }, { ticker: 'ORCL', weight: 7.2 }, { ticker: 'ADBE', weight: 6.8 },
        { ticker: 'NOW', weight: 5.5 }, { ticker: 'INTU', weight: 5.0 }, { ticker: 'PANW', weight: 4.2 },
        { ticker: 'SNPS', weight: 3.8 }, { ticker: 'CDNS', weight: 3.5 }, { ticker: 'WDAY', weight: 3.0 },
        { ticker: 'ADSK', weight: 2.8 },
      ],
    },
    riskData: { beta: 1.22, historicalVolatility: 0.28, maxDrawdown: -0.32, debtToEquity: 0 },
  },
  CLOU: {
    overview: {
      symbol: 'CLOU',
      name: 'Global X Cloud Computing ETF',
      sector: 'Technology',
      industry: 'Cloud Computing',
      expenseRatio: 0.68,
      aum: 520000000,
      trackingError: 0.45,
      premiumDiscount: -0.05,
      dividendYield: 0.0,
      holdingsCount: 36,
      ytdReturn: 1.2,
      oneYearReturn: 8.5,
    },
    priceConfig: { base: 18, volatility: 2.4, trend: 0.05 },
    analystData: { morningstarRating: 2, categoryRank: 68, inflowsOutflows: -65, flowsTrend: 'declining' },
    insiderData: {
      netFlows30d: -35000000,
      netFlows90d: -95000000,
      creationRedemptionRatio: 0.80,
      topHoldings: [
        { ticker: 'ZS', weight: 5.5 }, { ticker: 'DDOG', weight: 5.2 }, { ticker: 'MDB', weight: 4.8 },
        { ticker: 'SNOW', weight: 4.5 }, { ticker: 'NET', weight: 4.2 }, { ticker: 'CRWD', weight: 3.8 },
        { ticker: 'WDAY', weight: 3.5 }, { ticker: 'HUBS', weight: 3.2 }, { ticker: 'TWLO', weight: 2.8 },
        { ticker: 'OKTA', weight: 2.5 },
      ],
    },
    riskData: { beta: 1.35, historicalVolatility: 0.38, maxDrawdown: -0.52, debtToEquity: 0 },
  },
  SOXL: {
    overview: {
      symbol: 'SOXL',
      name: 'Direxion Daily Semiconductor Bull 3X Shares',
      sector: 'Technology',
      industry: 'Leveraged Semiconductors',
      expenseRatio: 0.76,
      aum: 12000000000,
      trackingError: 2.50,
      premiumDiscount: 0.15,
      dividendYield: 0.0,
      holdingsCount: 30,
      ytdReturn: 45.2,
      oneYearReturn: 85.5,
    },
    priceConfig: { base: 38, volatility: 6.0, trend: 0.8 },
    analystData: { morningstarRating: 1, categoryRank: 92, inflowsOutflows: 1200, flowsTrend: 'stable' },
    insiderData: {
      netFlows30d: 800000000,
      netFlows90d: 2200000000,
      creationRedemptionRatio: 1.45,
      topHoldings: [
        { ticker: 'NVDA', weight: 10.0 }, { ticker: 'AVGO', weight: 8.5 }, { ticker: 'AMD', weight: 7.2 },
        { ticker: 'QCOM', weight: 6.0 }, { ticker: 'TXN', weight: 5.5 }, { ticker: 'INTC', weight: 5.0 },
        { ticker: 'MU', weight: 4.8 }, { ticker: 'AMAT', weight: 4.2 }, { ticker: 'LRCX', weight: 3.8 },
        { ticker: 'TSM', weight: 3.5 },
      ],
    },
    riskData: { beta: 4.05, historicalVolatility: 0.85, maxDrawdown: -0.78, debtToEquity: 0 },
  },
};

// --- Build full mock data from definitions ---
const etfMockTickers = {};

for (const [ticker, def] of Object.entries(etfDefinitions)) {
  const { base, volatility, trend } = def.priceConfig;
  etfMockTickers[ticker] = {
    assetType: 'etf',
    overview: def.overview,
    priceHistory: generatePriceHistory(base, volatility, trend),
    analystData: def.analystData,
    insiderData: def.insiderData,
    riskData: def.riskData,
    thesis: getThesisForTicker(ticker),
  };
}

// --- Exports ---

export function getEtfMockData(ticker) {
  return etfMockTickers[ticker.toUpperCase()] || null;
}

export function getEtfMockTickers() {
  return Object.keys(etfMockTickers);
}

export function isEtfTicker(ticker) {
  return ticker.toUpperCase() in etfMockTickers;
}

export function getThesisData(ticker) {
  const etf = etfMockTickers[ticker.toUpperCase()];
  return etf ? etf.thesis : null;
}
